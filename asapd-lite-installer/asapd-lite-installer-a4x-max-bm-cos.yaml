Current HEAD does not match the latest origin/main, which is:
commit ffd04bcb69d1c8dedd71b21cc9ad64f8b4638721
Author: Barbara Moretto Barron <bmorettodama@google.com>
Date:   Tue Dec 16 09:14:38 2025 -0800

    Change get_pf_interface_name function to look for the right interface there. There will be no up_rep interface name.
    
    Change-Id: Ib4d914bbc354d3d4a52995817b594c74c0bd1a0b
    Reviewed-on: https://asapd-lite-review.googlesource.com/c/asapd-lite/+/5902
    Reviewed-by: Weilong Cui <cuiwl@google.com>
    Tested-by: Louhi_Bot <587340091677-compute@developer.gserviceaccount.com>
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: asapd-lite
  labels:
    app: asapd-lite
spec:
  selector:
    matchLabels:
      app: asapd-lite
  template:
    metadata:
      labels:
        app: asapd-lite
    spec:
      # Allow the pod to run on any node
      tolerations:
      - operator: Exists

      # Use the host's network namespace. This is essential for
      # managing the host's CX PFs.
      hostNetwork: true

      # Use the host's PID namespace. This can be useful for
      # debugging and interacting with host processes.
      hostPID: true

      containers:
      - name: asapd-lite
        image: us-docker.pkg.dev/gce-ai-infra/asapd-lite/asapd-lite:v0.0.3

        command: ["/usr/local/bin/run_asapd_lite.sh"]
        env:
        - name: LD_LIBRARY_PATH
          value: /asapd-lite/controller

        securityContext:
          # 'privileged: true' is required for modifying most host-level
          # resources, including network devices and udev rules.
          privileged: true

        volumeMounts:
        - name: host-sys
          mountPath: /sys
          readOnly: true
        - name: host-udev-rules
          mountPath: /etc/udev/rules.d
        - name: host-run-udev
          mountPath: /run/udev
        - name: host-run-asapd-lite
          mountPath: /run/asapd-lite
        - name: var-log-google-asapd-lite
          mountPath: /var/log/google/asapd-lite
        - name: var-lib-google-asapd-lite
          mountPath: /var/lib/google/asapd-lite
        - name: host-systemd-system
          mountPath: /etc/systemd/system
        - name: host-run-systemd
          mountPath: /run/systemd

      volumes:
      # These define the host paths we want to mount
      # Mount /sys to read sysfs
      - name: host-sys
        hostPath:
          path: /sys
      # Mount for managing udev rules
      - name: host-udev-rules
        hostPath:
          path: /etc/udev/rules.d
      # I'm not sure we need this, but AI suggests it may be needed for udevadm trigger
      - name: host-run-udev
        hostPath:
          path: /run/udev
      - name: host-run-asapd-lite
        hostPath:
          path: /run/asapd-lite
          type: DirectoryOrCreate
      - name: var-log-google-asapd-lite
        hostPath:
          path: /var/log/google/asapd-lite
          type: DirectoryOrCreate
      # Mount /var/lib/google/asapd-lite to provide a persistent location for
      # the ipam binary on the host, allowing it to be executed from the host.
      # This location was choosen based on this documentation
      # https://docs.cloud.google.com/container-optimized-os/docs/concepts/disks-and-filesystem#working_with_the_file_system
      # Hence, this may not necessarily be a suitable location for non-COS based systems.
      - name: var-lib-google-asapd-lite
        hostPath:
          path: /var/lib/google/asapd-lite
          type: DirectoryOrCreate
      - name: host-systemd-system
        hostPath:
          path: /etc/systemd/system
      - name: host-run-systemd
        hostPath:
          path: /run/systemd
